<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      HTTP与HTTPS | 张啸 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Leon">
    
    
    <meta name="description" content="超文本传输协议HTTP被用于Web浏览器和网站服务器之间传递信息，HTTP以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。">
<meta name="keywords" content="HTTP,HTTPS">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP与HTTPS | 张啸">
<meta property="og:url" content="http://www.xiaoleon.cn/2018/03/02/web-5/index.html">
<meta property="og:site_name" content="张啸">
<meta property="og:description" content="超文本传输协议HTTP被用于Web浏览器和网站服务器之间传递信息，HTTP以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://www.xiaoleon.cn/images/web-5/1.png">
<meta property="og:image" content="http://www.xiaoleon.cn/images/web-5/2.png">
<meta property="og:image" content="http://www.xiaoleon.cn/images/web-5/3.png">
<meta property="og:image" content="http://www.xiaoleon.cn/images/web-5/4.png">
<meta property="og:updated_time" content="2018-03-12T14:04:54.242Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP与HTTPS | 张啸">
<meta name="twitter:description" content="超文本传输协议HTTP被用于Web浏览器和网站服务器之间传递信息，HTTP以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。">
<meta name="twitter:image" content="http://www.xiaoleon.cn/images/web-5/1.png">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a href="/"><img src="/images/logo.jpg" width="80" alt="张啸 logo" class="panel-cover__logo logo" /></a>
        

        <h1 class="panel-cover__title panel-title"><a href="/">张啸</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          世界上最快乐的事，莫过于为理想而奋斗。
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h2 class="post-title">Web(5) HTTP与HTTPS</h2>

    

    <div class="post-meta">
      <time datetime="2018-03-02" class="post-meta__date date">2018-03-02</time> 

      <span class="post-meta__tags tags">

          
            &#8226; 分类:
            <font class="categories">
              <a class="categories-link" href="/categories/Web知识学习/">Web知识学习</a>
            </font>
          

          
            &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/HTTP/">HTTP</a>, <a class="tags-link" href="/tags/HTTPS/">HTTPS</a>
            </font>
          
      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <p>超文本传输协议HTTP被用于Web浏览器和网站服务器之间传递信息，HTTP以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。</p>
<a id="more"></a>
<p>为了解决HTTP协议的这一缺陷，需要使用另一种协议：安全套接字层超文本传输协议HTTPS，为了数据安全，HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。</p>
<h3 id="一、TCP-IP、HTTP、HTTPS"><a href="#一、TCP-IP、HTTP、HTTPS" class="headerlink" title="一、TCP/IP、HTTP、HTTPS"></a>一、TCP/IP、HTTP、HTTPS</h3><ul>
<li><p>TCP/IP：传输层协议，主要解决数据如何在网络中传输，Web服务器将HTTP封装好的文本信息，通过TCP/IP协议发送到网络上。</p>
</li>
<li><p>HTTP：应用层协议，用于从www服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p>
</li>
<li><p>HTTPS：以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。</p>
</li>
</ul>
<p>HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。</p>
<p>下面的图表显示OSI（Open System Interconnect）模型中的各项协议：</p>
<table>
<thead>
<tr>
<th>OSI层</th>
<th>协议名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>HTTP、SMTP、SNMP、FTP、Telnet、SIP、SSH、NFS、RTSP、XMPP、Whois、ENRP</td>
</tr>
<tr>
<td>表示层</td>
<td>XDR、ASN.1、SMB、AFP、NCP</td>
</tr>
<tr>
<td>会话层</td>
<td>ASAP、TLS、SSH、ISO 8327 / CCITT X.255、RPC、NetBIOS、ASP、Winsock、BSD sockets</td>
</tr>
<tr>
<td>传输层</td>
<td>TCP、UDP、RTP、SCTP、SPX、ATP、IL</td>
</tr>
<tr>
<td>网络层</td>
<td>IP、ICMP、IGMP、IPX、BGP、OSPF、RIP、IGRP、EIGRP、ARP、RARP、X.25</td>
</tr>
<tr>
<td>数据链路层</td>
<td>以太网、令牌环、HDLC、帧中继、ISDN、ATM、IEEE 802.11、FDDI、PPP</td>
</tr>
<tr>
<td>物理层</td>
<td>线路、无线电、光钎、信鸽</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="二、HTTP与HTTPS有什么区别"><a href="#二、HTTP与HTTPS有什么区别" class="headerlink" title="二、HTTP与HTTPS有什么区别"></a>二、HTTP与HTTPS有什么区别</h3><p>HTTP传输的数据都是未加密的，也就是明文的，因此使用HTTP传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTPS构建的可进行传输加密、身份认证的网络协议，要比HTTP安全。</p>
<p>HTTPS和HTTP的主要区别如下：</p>
<ul>
<li><p>1) HTTPS协议需要到CA申请证书，一般免费证书较少，因而需要一定费用</p>
</li>
<li><p>2) HTTP是超文本传输协议，信息是明文传输，HTTPS则是具有安全性的SSL加密传输协议</p>
</li>
<li><p>3) HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样，HTTP是80，HTTPS是443</p>
</li>
<li><p>4) HTTP的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP构建的可进行加密传输、身份认证的网络协议，比HTTP更安全</p>
</li>
</ul>
<hr>
<h3 id="三、HTTP三次握手"><a href="#三、HTTP三次握手" class="headerlink" title="三、HTTP三次握手"></a>三、HTTP三次握手</h3><p><img src="/images/web-5/1.png" alt="HTTP三次握手时序图"></p>
<p>TCP/IP协议中，TCP协议提供可靠的连接服务，采用三次握手建立一个连接。</p>
<ul>
<li><p>1) 第一次握手：客户端发送syn包（syn=j）到服务器，并进入SYN_SEND状态，等待服务器确认</p>
</li>
<li><p>2) 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态</p>
</li>
<li><p>3) 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK（ack=k+1），此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手</p>
</li>
</ul>
<hr>
<h3 id="四、HTTP四次挥手"><a href="#四、HTTP四次挥手" class="headerlink" title="四、HTTP四次挥手"></a>四、HTTP四次挥手</h3><p><img src="/images/web-5/2.png" alt="HTTP四次挥手时序图"></p>
<p>由于TCP连接是全双工的，因此每个方向都必须单独进行关闭。这个原则是当一方完成它的数据发送任务后就能发送一个FIN来终止这个方向的连接。收到一个FIN只意味着这一方向上没有数据流动，一个TCP连接在收到一个FIN后仍能发送数据。首先进行关闭的一方将执行主动关闭，而另一方执行被动关闭。</p>
<p>HTTP的关闭需要发送四个包，因此称为四次挥手（four-way handshake）。客户端或服务端均可主动发起挥手操作，在socket中，任何一方执行close()操作即可产生挥手操作。</p>
<ul>
<li><p>1) 客户端发送一个FIN，用来关闭客户端到服务端的数据传送</p>
</li>
<li><p>2) 服务端收到这个FIN，返回一个ACK，确认序号为收到的序号加1。和SYN一样，一个FIN将占用一个序号</p>
</li>
<li><p>3) 服务端关闭与客户端的连接，发送一个FIN到客户端</p>
</li>
<li><p>4) 客户端发挥ACK报文确认，并将确认序号设置为收到序号加1</p>
</li>
</ul>
<hr>
<h3 id="五、HTTPS的工作原理"><a href="#五、HTTPS的工作原理" class="headerlink" title="五、HTTPS的工作原理"></a>五、HTTPS的工作原理</h3><p><img src="/images/web-5/3.png" alt="HTTPS通信"></p>
<p>客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤，如图所示。</p>
<ul>
<li><p>1) 客户使用HTTPS的URL访问Web服务器，要求与Web服务器建立SSL连接</p>
</li>
<li><p>2) Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端</p>
</li>
<li><p>3) 客户端解析证书，首先验证公钥是否有效，比如颁发机构、过期时间等，如果发现异常，则会弹出警告框，提示证书存在问题</p>
</li>
<li><p>4) 客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级</p>
</li>
<li><p>5) 客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给Web服务器</p>
</li>
<li><p>6) Web服务器利用字迹的私钥解密出会话密钥</p>
</li>
<li><p>7) Web服务器利用会话密钥加密与客户端之间的通信</p>
</li>
</ul>
<p><img src="/images/web-5/4.png" alt="HTTPS连接时序图"></p>
<hr>
<h3 id="六、HTTPS的优点"><a href="#六、HTTPS的优点" class="headerlink" title="六、HTTPS的优点"></a>六、HTTPS的优点</h3><p>尽管HTTPS并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但HTTPS仍是当前架构下最安全的解决方案，主要有以下几个好处：</p>
<ul>
<li><p>1) 使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户端和服务器</p>
</li>
<li><p>2) HTTPS协议是由SSL+HTTP构建的可进行加密传输、身份认证的网络协议，要比HTTP协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性</p>
</li>
<li><p>3) HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本</p>
</li>
<li><p>4) Google曾在2014年8月份调整搜索引擎算法，并称“比起同等HTTP网站，采用HTTPS加密的网站在搜索结果中的排名将会更高”</p>
</li>
</ul>
<hr>
<h3 id="七、HTTPS的缺点"><a href="#七、HTTPS的缺点" class="headerlink" title="七、HTTPS的缺点"></a>七、HTTPS的缺点</h3><p>虽然说HTTPS有很大的优势，但其相对来说，还是存在不足之处的：</p>
<ul>
<li><p>1) HTTPS协议握手阶段比较费时，会使页面的加载时间延长近50%，增加10%-20%的耗电</p>
</li>
<li><p>2) HTTPS连接缓存不如HTTP高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响</p>
</li>
<li><p>3) SSL整数需要收费，功能越强大的整数费用越高，个人网站、小网站没有必要一般不会用</p>
</li>
<li><p>4) SSL整数通常需要绑定IP，不能再同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗</p>
</li>
<li><p>5) HTTPS协议的加密范围也比较有限，在黑客攻击、拒绝服务供给、服务器劫持等方面几乎起不到什么作用。最关键的，SSL整数的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行</p>
</li>
</ul>
<hr>
<h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><ol>
<li><p><a href="https://www.cnblogs.com/wqhwe/p/5407468.html" target="_blank" rel="noopener">HTTP与HTTPS的区别</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/lovesong/p/5186200.html" target="_blank" rel="noopener">HTTP与HTTPS握手的那些事</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/Jessy/p/3535612.html" target="_blank" rel="noopener">TCP的三次握手（建立连接）和四次挥手（关闭连接）</a></p>
</li>
</ol>

  </section>


  
    <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    <!--PC和WAP自适应版-->
<div id="SOHUCS" sid="2018/03/02/web-5/"  ></div> 
<script type="text/javascript"> 
(function(){ 
var appid = 'cytoVRn2O';
var conf = 'prod_8d1d2ca3d3e58602e938a09b0529415d';
var width = window.innerWidth || document.documentElement.clientWidth; 
if (width < 960) { 
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

</section>
  


</article>


            <footer class="footer">

    <span class="footer__copyright"><a href="http://www.miitbeian.gov.cn/">苏ICP备18003724号</a> | &copy;<a href="mailto:xiao_leon@qq.com">xiao leon</a> 2015-2019</span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    
    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                windowMinWidth: 300,
                contentId: "post-content",
            });
        });
    </script>



    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
